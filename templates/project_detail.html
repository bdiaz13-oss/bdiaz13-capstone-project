{% extends "base.html" %}
{% block title %}{{ project.title }} - My Portfolio{% endblock %}

{% block content %}

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-9 col-xl-8">

            <!-- Main Project Card -->
            <div class="card shadow-lg border-0 overflow-hidden">
                
                <!-- Project Image -->
                <img src="{{ project.image }}" 
                     class="card-img-top" 
                     alt="{{ project.title }}" 
                     style="height: 400px; object-fit: cover; border-bottom: 4px solid #0066ff;">

                <div class="card-body p-5">

                    <!-- Title -->
                    <h1 class="display-5 fw-bold mb-4" style="color: #f8f9fa;">{{ project.title }}</h1>

                    <!-- Rich Text Description (WYSIWYG) -->
                    <div class="project-description" style="line-height: 1.8; font-size: 1.05rem;">
                        {{ project.description | safe }}
                    </div>

                    <!-- Action Buttons -->
                    <div class="mt-6 pt-5 border-top" style="border-color: var(--border-color);">
                        <div class="d-flex flex-wrap gap-3 align-items-center">
                            {% if project.website_url %}
                            <a href="{{ project.website_url }}" target="_blank" rel="noopener" 
                               class="btn btn-primary btn-lg px-4">
                                <i class="bi bi-globe me-2"></i>Visit Live Site
                            </a>
                            {% endif %}

                            {% if project.github_url %}
                            <a href="{{ project.github_url }}" target="_blank" rel="noopener" 
                               class="btn btn-outline-primary btn-lg px-4">
                                <i class="bi bi-github me-2"></i>View on GitHub
                            </a>
                            {% endif %}

                            <div class="ms-auto">
                                <a href="{{ url_for('edit_project', project_id=project.id) }}" 
                                   class="btn btn-outline-primary btn-lg">
                                    <i class="bi bi-pencil-square me-2"></i>Edit Project
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Back Button -->
            <div class="text-center mt-5">
                <a href="{{ url_for('index') }}" class="btn btn-outline-primary btn-lg px-5">
                    <i class="bi bi-arrow-left me-2"></i> Back to Portfolio
                </a>
            </div>

        </div>
    </div>
</div>
{% endblock %}

<!-- Extra Styling for Rich Text Content -->
{% block extra_css %}
<style>
    .project-description {
        color: #cbd5e1;
    }
    .project-description h1, .project-description h2, .project-description h3 {
        margin-top: 2em;
        margin-bottom: 1em;
        color: #f8f9fa;
        font-weight: 600;
    }
    .project-description h1 { 
        font-size: 2.2rem;
        border-bottom: 2px solid #0066ff;
        padding-bottom: 0.5rem;
    }
    .project-description h2 { font-size: 1.8rem; }
    .project-description h3 { font-size: 1.5rem; }

    .project-description p {
        margin-bottom: 1.3em;
    }

    .project-description ul, .project-description ol {
        padding-left: 1.5rem;
        margin: 1.2em 0;
    }

    .project-description li {
        margin-bottom: 0.4em;
        color: #cbd5e1;
    }

    .project-description blockquote {
        border-left: 4px solid #0066ff;
        padding-left: 1.2em;
        font-style: italic;
        color: #a0aec0;
        margin: 2em 0;
    }

    .project-description pre {
        background: rgba(0, 0, 0, 0.4);
        padding: 1.5em;
        border-radius: 12px;
        overflow-x: auto;
        border: 1px solid #2d3748;
    }

    .project-description code {
        background: rgba(0, 102, 255, 0.1);
        padding: 0.2em 0.4em;
        border-radius: 4px;
        font-size: 0.9em;
        color: #00d4ff;
    }

    .project-description img {
        max-width: 100%;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.4);
        margin: 1.5em 0;
        border: 1px solid #2d3748;
    }

    .project-description a {
        color: #00d4ff;
        text-decoration: none;
        font-weight: 500;
        border-bottom: 1px solid #0066ff;
        transition: all 0.3s ease;
    }

    .project-description a:hover {
        color: #0066ff;
        border-bottom-color: #00d4ff;
    }
</style>
{% endblock %}